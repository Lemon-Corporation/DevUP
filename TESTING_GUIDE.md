# Руководство по тестированию интеграции Frontend-Backend

## Шаг 1: Запуск Backend

1. Откройте терминал и перейдите в папку backend:
```bash
cd backend/UserService
```

2. Запустите UserService:
```bash
./mvnw spring-boot:run
```

3. Дождитесь полного запуска. В логах должно появиться что-то вроде:
```
Started UserServiceApplication in X.XXX seconds
```

4. Проверьте что backend доступен:
```bash
curl http://localhost:8080/actuator/health
```
Ответ должен быть примерно таким:
```json
{"status":"UP"}
```

## Шаг 2: Запуск Frontend

1. Откройте новый терминал и перейдите в папку frontend:
```bash
cd frontend
```

2. Убедитесь что зависимости установлены:
```bash
flutter pub get
```

3. Запустите приложение:
```bash
flutter run
```

## Шаг 3: Тестирование регистрации

1. В приложении перейдите на экран регистрации
2. Заполните форму:
   - Имя: `testuser`
   - Email: `test@example.com`
   - Пароль: `123456`
   - Подтверждение пароля: `123456`
   - Поставьте галочку "Я согласен с условиями"
3. Нажмите "Зарегистрироваться"
4. Если все работает корректно, должно появиться сообщение об успешной регистрации

## Шаг 4: Тестирование входа

1. После успешной регистрации вас перенаправит на экран входа
2. Введите:
   - Email: `test@example.com`
   - Пароль: `123456`
3. Нажмите "Войти"
4. При успешном входе должен открыться главный экран приложения

## Возможные проблемы и решения

### Backend не запускается
- Убедитесь что у вас установлена Java 11+
- Проверьте что порт 8080 свободен: `lsof -i :8080`

### Frontend не может подключиться к backend
- Убедитесь что backend запущен и доступен
- Проверьте URL в `frontend/lib/Constants/config.dart`
- Для тестирования на реальном устройстве замените `localhost` на IP-адрес компьютера

### Ошибки SSL/сертификатов
- Это может происходить в корпоративных сетях
- Попробуйте использовать другую сеть или настроить прокси

### Ошибки валидации
- Email должен быть в корректном формате
- Пароль должен быть минимум 6 символов
- Пароли должны совпадать
- Необходимо согласиться с условиями использования

## Логи для отладки

### Backend логи
Все HTTP запросы и ответы логируются в консоли backend

### Frontend логи
HTTP запросы логируются в консоли Flutter благодаря Dio LogInterceptor

## API Endpoints для тестирования

### Регистрация
```bash
curl -X POST http://localhost:8080/api/v1/users/create \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "123456"
  }'
```

### Вход
```bash
curl -X POST http://localhost:8080/api/v1/users/mobile/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "test@example.com",
    "password": "123456"
  }'
```

## Документация API

После запуска backend, Swagger UI доступен по адресу:
http://localhost:8080/swagger-ui.html 